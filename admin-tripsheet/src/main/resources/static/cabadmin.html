<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset='utf-8'>
  <title>Capital Planning System</title>
  <link rel="stylesheet" type="text/css" href="css/stylesheet.css">
  <link rel="stylesheet" type="text/css" href="css/commontheme.css">
</head>

<body>
  <!--nav starts-->
  <div class="container-fluid">
    <div class="row">
      <div class="col-md-12 topnav-border">
        <div class="float-start">
          <a class="cab-logo" href="cabadmin.html"><img src="images/cab-logo.svg" class="cabapp-logo" alt="logo"></a>
        </div>
        <div class="float-start">
          <ul class="list-group list-group-horizontal">
            <li class="list-group-item nav-menu requests"><a class="link requests requests-tabactive " href="cabadmin.html">Manage
                Requests And Cabs</a></li>
            <li class="list-group-item nav-menu"><a class="link nav-align-tabs" href="history.html">History of Trips</a></li>
            <li class="list-group-item nav-menu"><a class="link nav-align-tabs" href="complaints.html">Complaints</a></li>
            <li class="list-group-item nav-menu"><a class="link nav-align-tabs" href="Blockedusers.html">Blocked Users</a></li>
            <li class="list-group-item nav-menu"><a class="link nav-align-tabs" href="routemanagement.html">Route Management</a></li>
          </ul>
        </div>
        <div class="float-end">
          <!--notification starts-->
          <div class="float-start">
            <div class="header-right">
              <div class="dropdown col-md-12 float-start">
                <img class="cursor" src="images/notify.svg" alt="notify-icon" title="notifications"
                  data-toggle="dropdown" aria-expanded="true">
                <div class="dropdown-menu m-0 p-3 notify-filter">
                  <div class="container-fluid">
                    <div class="row">
                      <div class="col-md-12 pb-2 border-0 mb-3"><span
                          class="text-style-title h-size3">Notification</span>
                        <button type="button" class="btn-close float-end close-filter" data-dismiss="notify-filter"
                          aria-label="Close">
                        </button>
                      </div>

                      <div class="col-md-12">
                        <div class="row mb-3">
                          <div class=" col-md-12 float-start topnav-border">
                            <img src="images/success.svg" class="notification-icon float-start" alt="notifyicon">
                            <p class="float-start notification-content">TN 12 W 3243 Trip ended<br>
                              <span class="color">Succesfully</span>
                            </p>
                          </div>
                          <div class="float-end">
                            <h6 class="notification-time float-end ">Just now</h6>
                          </div>
                        </div>

                        <div>
                          <div class=" col-md-12 float-start topnav-border">
                            <img src="images/comp-red.svg" class="notification-icon float-start" alt="notifyicon">
                            <p class="float-start notification-content">1234 Nithya Raised a<br>
                              <span class="color1">Compliant</span>
                            </p>
                          </div>
                          <div class="float-end">
                            <h6 class="notification-time float-end ">Just now</h6>
                          </div>
                        </div>

                        <div>
                          <div class=" col-md-12 mt-3 ">
                            <div class="col-md-6 float-start notify-space">
                              <h6>2 Notification</h6>
                            </div>
                            <div class="col-md-6 float-end notify-space1">
                              <a href="#" class="float-end">Clear All</a>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!--notification here-->

          <!--user profile starts-->
          <div class="float-end">
            <div class="header-right">
              <div class="dropdown col-md-12 float-start">
                <img class="cursor navuserprofile-icons" src="images/user-profile.svg" alt="user-icon"
                  title="User Profile" data-toggle="dropdown" aria-expanded="true" />
                <div class="dropdown-menu m-0 p-3 user-filter">
                  <div class="container-fluid">
                    <div class="row">
                      <div class="col-md-12 pb-2 border-0">
                        <button type="button" class="btn-close float-end close-filter" data-dismiss="user-filter"
                          aria-label="Close">
                        </button>
                      </div>

                      <div class="col-md-12">

                        <div class="col-md-4 float-start">
                          <img src="images/user-icon-image.svg" class="user-profile-icon" alt="profileicon">
                        </div>
                        <div class="col-md-4 float-start">
                          <h5 class="userprofile-content pt-2">Raghavan Govind</h5>
                          <h5 class="userprofile-content1  pt-2">raghavan.g@avasoft.com</h5>
                          <button type="button" class="btnlogoutbtn mb-3 ">Logout</button>



                        </div>
                      </div>
                    </div>
                  </div>

                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!--user profile ends-->

  <!--nav ends-->
  <!--tab starts-->
  <span class="float-end date-top"></span>
  <div class="col-md-12 float-start  px-lg-5 tab">
    <ul class="nav nav-pills mb-4" style="float:left" id="pills-tab" role="tablist">
      <li class="nav-item" role="presentation">
        <a class="nav-link bord tab-color active" id="pills-todaysrequest-tab" data-toggle="pill"
          href="#pills-todaysrequest" role="tab" aria-controls="pills-todaysrequest" aria-selected="true">Today's
          Request</a>
      </li>
      <li class="nav-item" role="presentation">
        <a class="nav-link bord tab-color" id="pills-assignedcabs-tab" data-toggle="pill" href="#pills-assignedcabs"
          role="tab" aria-controls="pills-assignedcabs" aria-selected="false">Assigned cabs</a>
      </li>
      <li class="nav-item" role="presentation">
        <a class="nav-link bord tab-color" id="pills-managecabs-tab" data-toggle="pill" href="#pills-managecabs"
          role="tab" aria-controls="pills-managecabs" aria-selected="false">Manage Cabs</a>
      </li>
    </ul>
    <!--tab ends here-->
    <!--filter starts here-->
    <div class="header-right">
      <div class="dropdown float-start">
        <img class="cursor" src="images/Vector.svg" alt="filter-icon" title="Advanced Filter" data-toggle="dropdown"
          aria-expanded="true" id="filterbtn" />

        <div class="dropdown-menu m-0 p-3 advanced-filter">
          <div class="container-fluid">
            <div class="row">
              <div class="col-md-12 pb-2 border-0 mb-3" ><span class="text-style-title filter-title">Advanced
                  Filter</span><button type="button" class="btn-close float-end close-filter"
                  data-dismiss="advanced-filter" aria-label="Close" >

                </button>
              </div>
              <div class="col-md-12">
                <div class="row mb-3">
                  <div class="col-md-6 mb-3">
                    <label class="mb-0 form-label filter-style " for="Source">Source</label>
                    <select class="form-select style-select1 border-filter-style" id="Source"
                      aria-label="Default-example">
                      <option selected value=0>Select Source</option>
                     
                    </select>
                  </div>
                  <div class="col-md-6 mb-3">
                    <label class="mb-0 form-label filter-style " for="Destination">Destination</label>
                    <select class="form-select style-select1 border-filter-style" id="Destination"
                      aria-label="Default-example">
                      <option selected value=0>Select Destination</option>
                      
                    </select>
                  </div>
                  
                  <div class="col-md-6 mb-3">
                    <label class="mb-0 form-label filter-style " for="Timeslot">Time Slot</label>
                    <select class="form-select style-select1 border-filter-style" id="timeslot"
                      aria-label="Default-example">
                      <option selected value=0>Select Time Slot</option>
                     
                    </select>
                  </div>

                </div>
                <div class=" float-end">
                  <button type="button" class="btn btn-primary btn-sm cancel-btn close-filter" data-dismiss="advanced-filter" id="cancelbtn">Cancel</button>
                  <button type="button" class="btn btn-primary btn-sm button1 close-filter" id="applybtn" data-dismiss="advanced-filter">Apply Filter</button>
                </div>


              </div>
            </div>
          </div>
        </div>
      </div>
      <!--filter ends here-->
      <!--search starts here-->
      <div class="float-start me-3">
        <div class="input-group flex-nowrap align">
          <input type="text" class="form-control search-align" placeholder="search" aria-label="Username"
            aria-describedby="addon-wrapping" id="searchtab" >
          <button class="input-group-text btn btn-search-custom" id="addon-wrapping searchbtn"><img src="images/search.svg"
              alt="search-icon" onclick="getBySearch()"></button>
        </div>
      </div>
      <!--search ends here-->
      <!--button starts here-->
     

    </div>
  
    <!--button ends here-->

    <!--today's request starts here-->
    <div class="tab-content" id="pills-tabContent">
      <div class="tab-pane fade show active" id="pills-todaysrequest" role="tabpanel"
        aria-labelledby="pills-todaysrequest-tab">
        <div class="w-100 float-start border fixTableHead table-scroll">
          <table class="table mb-0 caps-grid">
            <thead>
              <tr class="display-shadow">
                <th class="header-class">
                  <input class="form-check-input check" type="checkbox" value="" id="flexCheckChecked">
                  <label class="form-check-label" for="flexCheckChecked"></label>
                </th>
                <th class="header-class">Employee Id</th>
                <th class="header-class">Employee Name</th>
                <th class="header-class">Source <span class="sorting"><a class="sort-up" href="#"><img
                        class="sort-image" src="images/sortup-icon.svg" alt="sort-up" /></a><a class="sort-down"
                      href="#"><img class="sort-image" src="images/sortdown-icon.svg" alt="sort-down" /></a></span></th>
                <th class="header-class">Destination<span class="sorting"><a class="sort-up" href="#"><img
                        class="sort-image" src="images/sortup-icon.svg" alt="sort-up" /></a><a class="sort-down"
                      href="#"><img class="sort-image" src="images/sortdown-icon.svg" alt="sort-down" /></a></span></th>
                <th class="header-class">Drop Point <span class="sorting"><a class="sort-up" href="#"><img
                        class="sort-image" src="images/sortup-icon.svg" alt="sort-up" /></a><a class="sort-down"
                      href="#"><img class="sort-image" src="images/sortdown-icon.svg" alt="sort-down" /></a></span></th>
                <th class="header-class">Booking Time</th>
                <th class="header-class">Time Slot <span class="sorting"><a class="sort-up" href="#"><img
                        class="sort-image" src="images/sortup-icon.svg" alt="sort-up" /></a><a class="sort-down"
                      href="#"><img class="sort-image" src="images/sortdown-icon.svg" alt="sort-down" /></a></span></th>
              </tr>
            </thead>
            <tbody>
              <tr class="row-bg-style">
                <td class="spacing">
                  <input class="form-check-input check" type="checkbox" value="" id="flex-check">
                  <label class="form-check-label" for="flexCheckChecked"></label>
                </td>
                <td class="spacing">1234</td>
                <td class="spacing">Nithya</td>
                <td class="spacing">Alpha city</td>
                <td class="spacing">Tambaram</td>
                <td class="spacing">AGS</td>
                <td class="spacing">9:20 PM</td>
                <td class="spacing">10:00 PM</td>
              </tr>
              <tr class="row-bg-style">
                <td class="spacing">
                  <input class="form-check-input check" type="checkbox" value="" id="flex-check1">
                  <label class="form-check-label" for="flexCheckChecked"></label>
                </td>
                <td class="spacing">1235</td>
                <td class="spacing">Mani</td>
                <td class="spacing">Alpha city</td>
                <td class="spacing">Velachery</td>
                <td class="spacing">Dollar</td>
                <td class="spacing">9:10 PM</td>
                <td class="spacing">10:30 PM</td>
              </tr>
              <tr class="row-bg-style">
                <td class="spacing">
                  <input class="form-check-input check" type="checkbox" value="" id="flex-check2">
                  <label class="form-check-label" for="flexCheckChecked"></label>
                </td>
                <td class="spacing">1236</td>
                <td class="spacing">Vishwa</td>
                <td class="spacing">Bayline</td>
                <td class="spacing">Velachery</td>
                <td class="spacing">AGS</td>
                <td class="spacing">8:30 PM</td>
                <td class="spacing">12:00 PM</td>
              </tr>
              <tr class="row-bg-style">
                <td class="spacing">
                  <input class="form-check-input check" type="checkbox" value="" id="flex-check3">
                  <label class="form-check-label" for="flexCheckChecked"></label>
                </td>
                <td class="spacing">1237</td>
                <td class="spacing">Rubin</td>
                <td class="spacing">Alpha city</td>
                <td class="spacing">Velachery</td>
                <td class="spacing">Dollar</td>
                <td class="spacing">9:10 PM</td>
                <td class="spacing">10:00 PM</td>
              </tr>
              <tr class="row-bg-style">
                <td class="spacing">
                  <input class="form-check-input check" type="checkbox" value="" id="flex-check4">
                  <label class="form-check-label" for="flexCheckChecked"></label>
                </td>
                <td class="spacing">1238</td>
                <td class="spacing">Rohith</td>
                <td class="spacing">Bayline</td>
                <td class="spacing">Tambaram</td>
                <td class="spacing">AGS</td>
                <td class="spacing">9:10 PM</td>
                <td class="spacing">10:30 PM</td>
              </tr>
              <tr class="row-bg-style">
                <td class="spacing">
                  <input class="form-check-input check" type="checkbox" value="" id="flex-check5">
                  <label class="form-check-label" for="flexCheckChecked"></label>
                </td>
                <td class="spacing">1239</td>
                <td class="spacing">Saro</td>
                <td class="spacing">Alpha city</td>
                <td class="spacing">Tambaram</td>
                <td class="spacing">Dollar</td>
                <td class="spacing">9:20 PM</td>
                <td class="spacing">12:00 PM</td>
              </tr>
              <tr class="row-bg-style">
                <td class="spacing">
                  <input class="form-check-input check" type="checkbox" value="" id="flex-check6">
                  <label class="form-check-label" for="flexCheckChecked"></label>
                </td>
                <td class="spacing">1240</td>
                <td class="spacing">Ji</td>
                <td class="spacing">Alpha city</td>
                <td class="spacing">Velachery</td>
                <td class="spacing">AGS</td>
                <td class="spacing">8:30 PM</td>
                <td class="spacing">10:00 PM</td>
              </tr>
              <tr class="row-bg-style">
                <td class="spacing">
                  <input class="form-check-input check" type="checkbox" value="" id="flex-check7">
                  <label class="form-check-label" for="flexCheckChecked"></label>
                </td>
                <td class="spacing">1241</td>
                <td class="spacing">Nishok</td>
                <td class="spacing">Bayline</td>
                <td class="spacing">Thiruporur</td>
                <td class="spacing">Dollar</td>
                <td class="spacing">9:10 PM</td>
                <td class="spacing">10:30 PM</td>
              </tr>
              <tr class="row-bg-style">
                <td class="spacing">
                  <input class="form-check-input check" type="checkbox" value="" id="flex-check8">
                  <label class="form-check-label" for="flexCheckChecked"></label>
                </td>
                <td class="spacing">1242</td>
                <td class="spacing">Nish</td>
                <td class="spacing">Bayline</td>
                <td class="spacing">Thiruporur</td>
                <td class="spacing">AGS</td>
                <td class="spacing">9:10 PM</td>
                <td class="spacing">10:30 PM</td>
              </tr>
              <tr class="row-bg-style">
                <td class="spacing">
                  <input class="form-check-input check" type="checkbox" value="" id="flex-check9">
                  <label class="form-check-label" for="flexCheckChecked"></label>
                </td>
                <td class="spacing">1243</td>
                <td class="spacing">Hema</td>
                <td class="spacing">Alpha city</td>
                <td class="spacing">Tambaram</td>
                <td class="spacing">AGS</td>
                <td class="spacing">9:20 PM</td>
                <td class="spacing">10:00 PM</td>
              </tr>
              <tr class="row-bg-style">
                <td class="spacing">
                  <input class="form-check-input check" type="checkbox" value="" id="flex-check4">
                  <label class="form-check-label" for="flexCheckChecked"></label>
                </td>
                <td class="spacing">1238</td>
                <td class="spacing">Rohith</td>
                <td class="spacing">Bayline</td>
                <td class="spacing">Tambaram</td>
                <td class="spacing">AGS</td>
                <td class="spacing">9:10 PM</td>
                <td class="spacing">10:30 PM</td>
              </tr>
              <tr class="row-bg-style">
                <td class="spacing">
                  <input class="form-check-input check" type="checkbox" value="" id="flex-check5">
                  <label class="form-check-label" for="flexCheckChecked"></label>
                </td>
                <td class="spacing">1239</td>
                <td class="spacing">Saro</td>
                <td class="spacing">Alpha city</td>
                <td class="spacing">Tambaram</td>
                <td class="spacing">Dollar</td>
                <td class="spacing">9:20 PM</td>
                <td class="spacing">12:00 PM</td>
              </tr>
              <tr class="row-bg-style">
                <td class="spacing">
                  <input class="form-check-input check" type="checkbox" value="" id="flex-check6">
                  <label class="form-check-label" for="flexCheckChecked"></label>
                </td>
                <td class="spacing">1240</td>
                <td class="spacing">Ji</td>
                <td class="spacing">Alpha city</td>
                <td class="spacing">Velachery</td>
                <td class="spacing">AGS</td>
                <td class="spacing">8:30 PM</td>
                <td class="spacing">10:00 PM</td>
              </tr>
              <tr class="row-bg-style">
                <td class="spacing">
                  <input class="form-check-input check" type="checkbox" value="" id="flex-check7">
                  <label class="form-check-label" for="flexCheckChecked"></label>
                </td>
                <td class="spacing">1241</td>
                <td class="spacing">Nishok</td>
                <td class="spacing">Bayline</td>
                <td class="spacing">Thiruporur</td>
                <td class="spacing">Dollar</td>
                <td class="spacing">9:10 PM</td>
                <td class="spacing">10:30 PM</td>
              </tr>
              <tr class="row-bg-style">
                <td class="spacing">
                  <input class="form-check-input check" type="checkbox" value="" id="flex-check8">
                  <label class="form-check-label" for="flexCheckChecked"></label>
                </td>
                <td class="spacing">1242</td>
                <td class="spacing">Nish</td>
                <td class="spacing">Bayline</td>
                <td class="spacing">Thiruporur</td>
                <td class="spacing">AGS</td>
                <td class="spacing">9:10 PM</td>
                <td class="spacing">10:30 PM</td>
              </tr>
            </tbody>
          </table>
        </div>
        <!--inprogress tab ends here-->


        <div class="w-100 float-start">
          <!--total content display starts here-->
          <div class="header-left py-md-3">
            <span class="font-records"># Records:</span>
            <span class="regular">10 out of 170</span>
          </div>
          <!--total content display ends here-->

        </div>
      </div>
      <!--today;s request ends here-->

      <!--Assigned cabs starts here-->
      <div class="tab-pane fade" id="pills-assignedcabs" role="tabpanel" aria-labelledby="pills-assignedcabs-tab">
        <div class="w-100 float-start border fixTableHead table-scroll" id="scroll">
          <table class="table mb-0 caps-grid" id="mytable">
            <thead>
              <tr class="display-shadow" >
                <th class="header-class">Cab Number</th>
                <th class="header-class">Driver Name</th>
                <th class="header-class">Driver Number</th>
                <th class="header-class">Source <span class="sorting"><a class="sort-up" href="#"><img
                        class="sort-image" src="images/sortup-icon.svg" alt="sort-up" /></a><a class="sort-down"
                      href="#"><img class="sort-image" src="images/sortdown-icon.svg" alt="sort-down" /></a></span></th>
                <th class="header-class">Destination<span class="sorting"><a class="sort-up" href="#"><img
                        class="sort-image" src="images/sortup-icon.svg" alt="sort-up" /></a><a class="sort-down"
                      href="#"><img class="sort-image" src="images/sortdown-icon.svg" alt="sort-down" /></a></span></th>
                
                <th class="header-class">Date of Travel <span class="sorting"><a class="sort-up" href="#"><img
                        class="sort-image" src="images/sortup-icon.svg" alt="sort-up" /></a><a class="sort-down"
                      href="#"><img class="sort-image" src="images/sortdown-icon.svg" alt="sort-down" /></a></span></th>
                <th class="header-class">Time Slot <span class="sorting"><a class="sort-up" href="#"><img
                        class="sort-image" src="images/sortup-icon.svg" alt="sort-up" /></a><a class="sort-down"
                      href="#"><img class="sort-image" src="images/sortdown-icon.svg" alt="sort-down" /></a></span></th>
                <th class="header-class">Actions</th>
              </tr>
            </thead>
            <tbody id="cab-body">
             
                
           
              
            </tbody>
          </table>
        </div>
        <div class="w-100 float-start">
          <!--total content display starts here-->
          <div class="header-left py-md-3" id="record">
            <span class="font-records"># Records:</span>
            <span class="regular" id="count"></span>
          </div>
          <!--total content display ends here-->
          
         
        </div>

      </div>
      <!--Assigned tab ends here-->

      <!--manage cabs starts here-->
      <div class="tab-pane fade" id="pills-managecabs" role="tabpanel" aria-labelledby="pills-managecabs-tab">
        <div class="w-100 float-start border">
          <table class="table mb-0 caps-grid tab-bord">
            <thead>
              <tr class="display-shadow">
                <th class="header-class">Cab Model<span class="sorting"><a class="sort-up" href="#"><img
                        class="sort-image" src="Images/sortup-icon.svg" alt="sort-up" /></a><a class="sort-down"
                      href="#"><img class="sort-image" src="Images/sortdown-icon.svg" alt="sort-down" /></a></span></th>
                <th class="header-class">Cab Number<span class="sorting"><a class="sort-up" href="#"><img
                        class="sort-image" src="Images/sortup-icon.svg" alt="sort-up" /></a><a class="sort-down"
                      href="#"><img class="sort-image" src="Images/sortdown-icon.svg" alt="sort-down" /></a></span></th>
                <th class="header-class">Driver Name</th>
                <th class="header-class">Driver Number</th>
                <th class="header-class">Available no.of.seats</th>
                <th class="header-class text-center">Actions</th>
              </tr>
            </thead>
            <tbody>
              <tr class="row-bg-style">
                <td class="spacing"><select class="form-select style-select" aria-label="Default select example">
                    <option selected>Select</option>
                    <option value="1">One</option>
                    <option value="2">Two</option>
                    <option value="3">Three</option>
                  </select><a href="#" title="Add" class="actions3-image"><img class="add-style" src="images/add.svg"
                      alt="add-icon" data-toggle="modal" data-target="#model-pop1"></a></td>

                <td class="spacing">
                  <input type="text" class="form-control border-filter-style" id="cab-num">
                </td>
                <td class="spacing"> <input type="text" class="form-control border-filter-style" id="dri-name"></td>
                <td class="spacing"> <input type="text" class="form-control border-filter-style" id="dri-num"></td>
                <td class="spacing"> <input type="text" class="form-control border-filter-style" id="no-seats"></td>
                <td class="spacing text-center"><a href="#" title="Save" class="actions4-image"><img
                      src="images/save.svg" alt="save-icon" /></a><a href="#" title="Cancel" class="actions2-image"><img
                      src="images/cancel.svg" alt="cancel-icon" /></a></td>
              </tr>
              <tr class="row-bg-style">
                <td class="spacing">Tavera</td>
                <td class="spacing">TN 12 W 3234</td>
                <td class="spacing">Ravi</td>
                <td class="spacing">9087654321</td>
                <td class="spacing">6</td>
                <td class="spacing text-center"><a href="#" title="Edit" class="actions-image"><img
                      src="images/edit.svg" alt="edit-icon" /></a><a href="#" title="Delete" class="actions2-image"><img
                      src="images/delete.svg" alt="delete-icon" data-toggle="modal" data-target="#manage-pop" /></a></td>
              </tr>
              <tr class="row-bg-style">
                <td class="spacing">Tempo travel</td>
                <td class="spacing">TN 12 F 3452</td>
                <td class="spacing">Raj</td>
                <td class="spacing">9087654621</td>
                <td class="spacing">8</td>
                <td class="spacing text-center"><a href="#" title="Edit" class="actions-image"><img
                      src="images/edit.svg" alt="edit-icon" /></a><a href="#" title="Delete" class="actions2-image"><img
                      src="images/delete.svg" alt="delete-icon" /></a></td>
              </tr>
              <tr class="row-bg-style">
                <td class="spacing">Swift</td>
                <td class="spacing">TN 12 G 5678</td>
                <td class="spacing">Rana</td>
                <td class="spacing">9087654321</td>
                <td class="spacing">5</td>
                <td class="spacing text-center"><a href="#" title="Edit" class="actions-image"><img
                      src="images/edit.svg" alt="edit-icon" /></a><a href="#" title="Delete" class="actions2-image"><img
                      src="images/delete.svg" alt="delete-icon" /></a></td>
              </tr>
              <tr class="row-bg-style">
                <td class="spacing">Tavera</td>
                <td class="spacing">TN 12 H 6543</td>
                <td class="spacing">Raghu</td>
                <td class="spacing">9087654321</td>
                <td class="spacing">6</td>
                <td class="spacing text-center"><a href="#" title="Edit" class="actions-image"><img
                      src="images/edit.svg" alt="edit-icon" /></a><a href="#" title="Delete" class="actions2-image"><img
                      src="images/delete.svg" alt="delete-icon" /></a></td>
              </tr>
              <tr class="row-bg-style">
                <td class="spacing">Tempo travel</td>
                <td class="spacing">TN 12 G 6542</td>
                <td class="spacing">Rosh</td>
                <td class="spacing">9087654321</td>
                <td class="spacing">8</td>
                <td class="spacing text-center"><a href="#" title="Edit" class="actions-image"><img
                      src="images/edit.svg" alt="edit-icon" /></a><a href="#" title="Delete" class="actions2-image"><img
                      src="images/delete.svg" alt="delete-icon" /></a></td>
              </tr>
              <tr class="row-bg-style">
                <td class="spacing">Swift</td>
                <td class="spacing">TN 12 B 7890</td>
                <td class="spacing">Sandy</td>
                <td class="spacing">9087654321</td>
                <td class="spacing">5</td>
                <td class="spacing text-center"><a href="#" title="Edit" class="actions-image"><img
                      src="images/edit.svg" alt="edit-icon" /></a><a href="#" title="Delete" class="actions2-image"><img
                      src="images/delete.svg" alt="delete-icon" /></a></td>
              </tr>
              <tr class="row-bg-style">
                <td class="spacing">Tavera</td>
                <td class="spacing">TN 12 H 6543</td>
                <td class="spacing">Raghu</td>
                <td class="spacing">9087654321</td>
                <td class="spacing">6</td>
                <td class="spacing text-center"><a href="#" title="Edit" class="actions-image"><img
                      src="images/edit.svg" alt="edit-icon" /></a><a href="#" title="Delete" class="actions2-image"><img
                      src="images/delete.svg" alt="delete-icon" /></a></td>
              </tr>
              <tr class="row-bg-style">
                <td class="spacing">Tempo travel</td>
                <td class="spacing">TN 12 G 6542</td>
                <td class="spacing">Rosh</td>
                <td class="spacing">9087654321</td>
                <td class="spacing">8</td>
                <td class="spacing text-center"><a href="#" title="Edit" class="actions-image"><img
                      src="images/edit.svg" alt="edit-icon" /></a><a href="#" title="Delete" class="actions2-image"><img
                      src="images/delete.svg" alt="delete-icon" /></a></td>
              </tr>
              <tr class="row-bg-style">
                <td class="spacing">Swift</td>
                <td class="spacing">TN 12 B 7890</td>
                <td class="spacing">Sandy</td>
                <td class="spacing">9087654321</td>
                <td class="spacing">5</td>
                <td class="spacing text-center"><a href="#" title="Edit" class="actions-image"><img
                      src="images/edit.svg" alt="edit-icon" /></a><a href="#" title="Delete" class="actions2-image"><img
                      src="images/delete.svg" alt="delete-icon" /></a></td>
              </tr>
              <tr class="row-bg-style">
                <td class="spacing">Tavera</td>
                <td class="spacing">TN 12 W 3234</td>
                <td class="spacing">Ravi</td>
                <td class="spacing">9087654321</td>
                <td class="spacing">6</td>
                <td class="spacing text-center"><a href="#" title="Edit" class="actions-image"><img
                      src="images/edit.svg" alt="edit-icon" /></a><a href="#" title="Delete" class="actions2-image"><img
                      src="images/delete.svg" alt="delete-icon" /></a></td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="w-100 float-start">
          <!--total content display starts here-->
          <div class="header-left py-md-3">
            <span class="font-records">Display:</span>
            <span class="regular">4 cabs out of 120</span>
          </div>
          <!--total content display ends here-->
          <!--Pagination starts here-->
          <div class="page py-md-3">
            <nav aria-label="Page navigation">
              <ul class="pagination">
                <li class="page-item">
                  <a class="page-link pagination-border" href="#" aria-label="Previous">
                    <img src="Images/pagination-prev-arrow.svg" alt="page-arrow" />
                  </a>
                </li>
                <li class="page-item"><a class="page-link pagination-border page-active" href="#">1</a></li>
                <li class="page-item"><a class="page-link pagination-border" href="#">2</a></li>
                <li class="page-item"><a class="page-link pagination-border" href="#">3</a></li>
                <li class="page-item"><a class="page-link pagination-border" href="#">...</a></li>
                <li class="page-item"><a class="page-link pagination-border" href="#">9</a></li>
                <li class="page-item"><a class="page-link pagination-border" href="#">10</a></li>
                <li class="page-item"><a class="page-link pagination-border" href="#">11</a></li>
                <li class="page-item">
                  <a class="page-link pagination-border" href="#" aria-label="Next">
                    <img src="Images/pagination-next-arrow.svg" alt="page-arrow" />
                  </a>
                </li>
              </ul>
            </nav>
          </div>
          <!--pagination ends here-->
        </div>
      </div>
    </div>
</div>


    <!--add model pop up starts here-->
    <div class="modal fade" id="model-pop1" tabindex="-1" role="dialog" aria-labelledby="model-pop1" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content bor-pop ">
          <div class="col-md-12 col-12">
            <div class="modal-body">
              <label class="label style-label">Enter Model</label>
              <button type="button" class="close closeicon float-end" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
              <input type="text" class="form-control border-filter-style" id="model-pop2" />
            </div>
          </div>
          <div class="modal-footer border-0 pb-4">
            <button type="button" class="btn btn-primary btn-sm cancel-btn1" data-dismiss="modal">Cancel</button>
            <button type="button" class="btn btn-primary btn-sm button2">Add</button>
          </div>
        </div>
      </div>
    </div>
    <!--add model pop up ends here-->

    <!--assign to cab popup starts-->
    <div class="modal fade" id="assign-to-cab" tabindex="-1" role="dialog" aria-labelledby="assign-to-cablabel"
      aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered modal-customise-width" role="document">
        <div class="modal-content bor-pop shadow ">
          <div class="modal-header border-0 pb-0">
            <label class="modal-title title filter-title ms-3" id="assign-to-cablabel">Assign To Cab</label>
            <button type="button" class="close closeicon" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <div class="container-fluid">
              <div class="row">
                <div class="col-md-4">
                  <label class="mb-0 form-label filter-style " for="cab-model">Cab Model</label>
                  <select class="form-select style-select1 border-filter-style" id="cab-model"
                    aria-label="Default-example">
                    <option selected>Select </option>
                    <option value="1">One</option>
                    <option value="2">Two</option>
                    <option value="3">Three</option>
                  </select>
                  <label class="mb-0 form-label filter-style mt-4 " for="cab-name">Driver Name</label>
                  <input type="text" class="form-control border-filter-style" id="cab-name">
                  <div class="form-check mt-3">
                    <input class="form-check-input" type="checkbox" value="" id="defaultCheck1">
                    <label class="form-check-label font-lab" for="defaultCheck1">
                      Update Driver Details
                    </label>
                  </div>
                </div>
                <div class="col-md-4">
                  <label class="mb-0 form-label filter-style" for="Driv-name">Cab Number</label>
                  <select class="form-select style-select1 border-filter-style" id="Driv-name"
                    aria-label="Default-example">
                    <option selected>Select</option>
                    <option value="1">One</option>
                    <option value="2">Two</option>
                    <option value="3">Three</option>
                  </select>
                  <label class="mb-0 form-label filter-style mt-4" for="Driv-num">Driver Number</label>
                  <input type="text" class="form-control border-filter-style" id="Driv-num">
                </div>
                <div class="col-md-4 pad">
                  <div class="pop">Available No.of.seats:0</div>
                  <div class="pop">Allocated No.of.seats:0</div>
                  <div class="pop">Remaining No.of.seats:0</div>
                </div>
              </div>
            </div>
          </div>

          <div class="modal-footer border-0 pb-4 foot-space">
            <button type="button" class="btn btn-primary btn-sm cancel-btn1" data-dismiss="modal">Cancel</button>
            <button type="button" class="btn btn-primary btn-sm button2">Assign</button>
          </div>
        </div>
      </div>
    </div>
    <!--assign to cab popup ends-->

      <!--delete popup starts here-->
   <div class="modal fade" id="manage-pop" tabindex="-1" role="dialog" aria-labelledby="manage-pop"
   aria-hidden="true">
   <div class="modal-dialog modal-dialog-centered " role="document">
     <div class="modal-content bor-pop ">
       <div class="modal-header border-0 pb-0">
         <div class="col-md-12 col-12">
           <button type="button" class="close closeicon float-end" data-dismiss="modal" aria-label="Close">
             <span aria-hidden="true">&times;</span>
           </button>
         </div>
       </div>
       <div class="modal-body pt-2 pb-3 ">
         <div class="row justify-content-center">

           <p class="style-label text-center">Are you sure you want to delete this cab details?</p>

         </div>
       </div>
       <div class="row justify-content-center mb-5 mt-2">
         <div class="col-md-8 text-center">
           <button type="button" class="cancel-btn2" data-dismiss="modal">No</button>
           <button type="button" class="button11">Yes</button>
         </div>
       </div>
     </div>
   </div>
 </div>
 <!--delete users popup ends here-->

 
 


    <script src="js/jquery.min.js"></script>
    <script src="js/popper.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script>
      $('.advanced-filter').click(function (event) {
        event.stopPropagation();

      });
      $('.close-filter').click(function () {
        $('.advanced-filter').removeClass('show');
      })

    </script>

 <script type="text/javascript" >
//---------------------------Script Starts Here---------------------------------------------------------------

//script for FindAll request
    var xhr = new XMLHttpRequest();
    var skip=0; 
    var limit=10;
    var searchApplied= false;
    var filterApplied =false;
    var submitBtn2 = document.getElementById("pills-assignedcabs-tab");  // AssignedCab NavId
        submitBtn2.addEventListener('click',function(){
        	document.getElementById("Destination").selectedIndex=0;  // Clear the filter
        	document.getElementById("Source").selectedIndex=0;
        	document.getElementById("timeslot").selectedIndex=0;
        	filterApplied=false;
        	var filter=document.getElementById("filterbtn");
            filter.setAttribute('src','images/Vector.svg');
        	$("#cab-body").empty();
        	skip=0;
        	getAssignedCabs(skip,limit);
        });
        //filterApplied=true;
    var cancel=document.getElementById("cancelbtn");  // CancelButton to get All AssignedCab
        cancel.addEventListener('click',function(){  
    	document.getElementById("Destination").selectedIndex=0;  // Clear the filter
    	document.getElementById("Source").selectedIndex=0;
    	document.getElementById("timeslot").selectedIndex=0;
    	filterApplied=false;
    	var filter=document.getElementById("filterbtn");
        filter.setAttribute('src','images/Vector.svg');
    	$("#cab-body").empty();
    	skip=0;
    	getAssignedCabs(skip,limit);
    });
    
// getAssignedCab Function -->Starts
    function getAssignedCabs(skip,limit){
    	//Path get all assignedCabs
          //xhr.open("GET","http://localhost:8080/api/v1/assignedCab/cabs",true);
       // path get all assignedCabs with Scrollevent
       
    	  xhr.open("GET","http://localhost:8080/api/v1/scroll/"+skip+"/"+limit,true);
          xhr.onreadystatechange=processResponse2;
          xhr.send(null);
          
    }
    
    
// To get total count of records-->                                          // Total Records
    var xhrCount= new XMLHttpRequest();
    function getTotalCount(){
    	xhrCount.open("GET","http://localhost:8080/api/v1/count",true);
    	xhrCount.onreadystatechange=processResponseCount;
         xhrCount.send(null);
      }
    var count;
    function processResponseCount(){
    	  if(xhrCount.readyState == 4 && xhrCount.status == 200){
    		 count= JSON.parse(xhrCount.responseText);
    	        
    	  }
    }
          getTotalCount();                                        // Function to Call Total Records
    
          
     var counttr=0;     
//Function to display all AssignedCabs -->ProcessResponse2  
   function processResponse2(){
    	  event.preventDefault();
   
        if(xhr.readyState == 4 && xhr.status == 200)
            {
        	// $("#cab-body").empty();
             var arr = JSON.parse(xhr.responseText);
       for(var i=0;i<arr.length; i++){

 	  // creating row and data   
        var trow=document.createElement('tr');
        trow.className="row-bg-style";       // addingStyle class
        trow.id=counttr++;
        var divObj = document.createElement('td');
        divObj.className="spacing";
        var divObj1 = document.createElement('td');
        divObj1.className="spacing";
        var divObj2 = document.createElement('td');
        divObj2.className="spacing";
        var divObj3 = document.createElement('td');
        divObj3.className="spacing";
        var divObj4 = document.createElement('td');
        divObj4.className="spacing";
        var divObj5 = document.createElement('td');
        divObj5.className="spacing";
        var divObj6 = document.createElement('td');
        divObj6.className="spacing";
        var divObj7 = document.createElement('td');
        divObj7.className="spacing";
        var divObj8 = document.createElement('td');
        divObj8.className="spacing";
        divObj8.style.display="none";
        
        divObj.innerText = arr[i].cabNumber ;
        divObj1.innerText = arr[i].driver.driverName;
        divObj2.innerText = arr[i].driver.driverNumber;
        divObj3.innerText = arr[i].source;
        divObj4.innerText = arr[i].destination;
        var date =arr[i].dateOfTravel.split("\-");
        var day=date[2]+"/"+date[1]+"/"+date[0];
        divObj5.innerText  =day;
        
        slot=arr[i].timeSlot;
        var slotSplitted = slot.split(":"); //[22,30,00]
        slotHour = slotSplitted[0];
        if(slotHour<12){
        if(slotHour==00){
        divObj6.innerHTML = "12"+":"+slotSplitted[1]+":"+slotSplitted[2]+" AM";
        }
        else{
        divObj6.innerHTML = slotHour+":"+slotSplitted[1]+":"+slotSplitted[2]+" AM";
        }
        }
        else{
        	
        
        slotHour = slotHour-12;
           if(slotHour<10){
        	   divObj6.innerHTML = "0"+slotHour+":"+slotSplitted[1]+":"+slotSplitted[2]+" PM";
           }else{
        divObj6.innerHTML = slotHour+":"+slotSplitted[1]+":"+slotSplitted[2]+" PM";
        }
        }
        
        divObj7.innerHTML="<a onclick='actionBtn(this)' title='View' class='align-img'  ><img src='images/View.svg' alt='View-icon' /></a>";
        divObj8.innerText= arr[i].tripCabId; 
        
        trow.appendChild(divObj);
        trow.appendChild(divObj1);
        trow.appendChild(divObj2);
        trow.appendChild(divObj3);
        trow.appendChild(divObj4);
        trow.appendChild(divObj5);
        trow.appendChild(divObj6);
        trow.appendChild(divObj7);
        trow.appendChild(divObj8);
        document.getElementById("cab-body").appendChild(trow);
//record--> to get rowcount  

    
     var countSpan=document.getElementById("count");
      countSpan.innerHTML=$('#cab-body tr').length+" out of "+count;
     document.getElementById("record").appendChild(countSpan);
    
    }
        
            }
       
    }
//Cancel & AssignedCab---------------------> ends

//------------------------------------------------------------------------------------------------------------

// DropDown  --> Starts    
     var xhr1 = new XMLHttpRequest();
      document.getElementById("pills-assignedcabs-tab").addEventListener('click',function(){
    	  
	  getDestination();
	  getSource();
	 
});
    
//Function To Display the List of Destination in dropDown                         //DestinationList
  function getDestination() {
            // var filterbtn = document.getElementById("filterbtn");

			// filterbtn.addEventListener('click',function(){
			event.preventDefault();
			xhr1.open("GET", "http://localhost:8080/api/v1/destinationlist",
					true);
			xhr1.onreadystatechange = processResponse4;
			xhr1.send(null);
		}
		var destinations;
		function processResponse4() {

			if (xhr1.readyState == 4 && xhr1.status == 200) {
				var destlist = document.getElementById("Destination");
				var length = destlist.options.length;
				for (i = length - 1; i > 0; i--) {
					destlist.options[i] = null;
				}

				destinations = JSON.parse(xhr1.responseText);

				for (var i = 0; i < destinations.length; i++) {

					var des = document.createElement("option");
					des.innerHTML = destinations[i].destination;
					document.getElementById("Destination").options.add(des);
				}

			}
		}

// Function to get the List of Source--->                                // Source List
		var xhr2 = new XMLHttpRequest();
		function getSource() {
			//var filterbtn = document.getElementById("filterbtn");

			// filterbtn.addEventListener('click',function(){
			event.preventDefault();
			xhr2.open("GET", "http://localhost:8080/api/v1/sourcelist", true);
			xhr2.onreadystatechange = processResponse3;
			xhr2.send(null);
		}
		function processResponse3() {

			if (xhr2.readyState == 4 && xhr2.status == 200) {

				var sourcelist = document.getElementById("Source");
				var length = sourcelist.options.length;
				for (i = length - 1; i > 0; i--) {
					sourcelist.options[i] = null;
				}

				var arr = JSON.parse(xhr2.responseText);

				for (var i = 0; i < arr.length; i++) {

					var op = document.createElement("option");
					op.innerHTML = arr[i].source;
					document.getElementById("Source").options.add(op);
				}

			}
		}
// script to display timeSlot based on destination                              //TimeSlot
	document.getElementById("Destination").addEventListener('change',function() {

	    // to remove repitation of list
		var clearTimeSlot = document.getElementById("timeslot");
		var timeOptLength = clearTimeSlot.options.length;
		    for (i = timeOptLength - 1; i > 0; i--) {
				clearTimeSlot.options[i] = null;
			}
			//selected destination
		var selectedDestination = document.querySelector('#Destination').value;
			//to list the destination 
			for (var i = 0; i < destinations.length; i++) {
			// condition to check the destination matches with selected
				if ((destinations[i].destination) == selectedDestination) {

				   for (var j = 0; j < destinations[i].slot.length; j++) {
                        var timeSlotOption = document.createElement("option");
                        var slot=destinations[i].slot[j].time;
                        var slotSplitted = slot.split(":"); //[22,30,00]
                        slotHour = slotSplitted[0];
                        if(slotHour<12){
                        if(slotHour==00){
                        timeSlotOption.innerHTML = "12"+":"+slotSplitted[1]+":"+slotSplitted[2]+" AM";
                        }
                        else{
                        timeSlotOption.innerHTML = slotHour+":"+slotSplitted[1]+":"+slotSplitted[2]+" AM";
                        }
                        }
                        else{
                        	
                        
                        slotHour = slotHour-12;
                           if(slotHour<10){
                        	   timeSlotOption.innerHTML = "0"+slotHour+":"+slotSplitted[1]+":"+slotSplitted[2]+" PM";
                           }else{
                        timeSlotOption.innerHTML = slotHour+":"+slotSplitted[1]+":"+slotSplitted[2]+" PM";
                        }
                        }
						//timeSlotOption.innerHTML = destinations[i].slot[j].time;
						document.getElementById("timeslot").options.add(timeSlotOption);
									}
								}
							}
						});
//Filter DropDown--------------> ends

//----------------------------------------------------------------------------------------------------------------------------
		
//ApplyFilter---------------------> starts                                  -ApplyButtonClicked
		var xhrFilter = new XMLHttpRequest();
		document.getElementById('applybtn').addEventListener('click',function(){
			
			skip=0;
			filterApplied=true;
			$("#cab-body").empty();
			changeFilter();
			getApplyFilter();
			});
		
		
		
		function getApplyFilter(){
			
		    
			event.preventDefault();
            
					var des = document.querySelector('#Destination').value;
					var source = document.querySelector('#Source').value;
					// document.querySelector('#Source').value.selected="selected";
					var slot = document.querySelector('#timeslot').value;
					if(slot!=0){
					var splittedTimeSlot = slot.split(":");
					if(splittedTimeSlot[2].includes("PM")){
					seconds = splittedTimeSlot[2].split(" ");
					//alert(Number(splittedTimeSlot[1]));
					if(Number(splittedTimeSlot[0])+12==24){
						slot = "12"+":"+Number(splittedTimeSlot[1])+":"+seconds[0];
					}
					else{
					splittedTimeSlotHour = Number(splittedTimeSlot[0])+12;
					slot = splittedTimeSlotHour +":"+Number(splittedTimeSlot[1])+":"+seconds[0];
					}
					}
					else{
						
	
					seconds = splittedTimeSlot[2].split(" ");
					if(Number(splittedTimeSlot[0]==12)){
						
						slot="00" +":"+"0"+Number(splittedTimeSlot[1])+":"+seconds[0];
					   
						
					}
					if(Number(splittedTimeSlot[0])<10){
						slot = "0"+Number(splittedTimeSlot[0]) +":"+Number(splittedTimeSlot[1])+":"+seconds[0];
					}
// 					else{
// 						slot = Number(splittedTimeSlot[0]) +":"+Number(splittedTimeSlot[1])+":"+seconds[0];
// 					}
					else if(Number(splittedTimeSlot[0]<=11)){
						slot = Number(splittedTimeSlot[0]) +":"+Number(splittedTimeSlot[1])+":"+seconds[0];
					}
					}
					}
					xhrFilter.open("GET",
							"http://localhost:8080/api/v1/filter/" + source
									+ "/" + des + "/" + slot+"/"+skip+"/"+limit, true);
					xhrFilter.onreadystatechange = processResponseFilter;
					//xhrFilter.setRequestHeader("Content-Type", "application/json");
					xhrFilter.send();
		}
		function processResponseFilter() {
			
			event.preventDefault();
			 
			if (xhrFilter.readyState == 4 && xhrFilter.status == 200) {
				
				
               // if(filterApplied==true){
				//$("#cab-body").empty();
               // }
				var arr = JSON.parse(xhrFilter.responseText);
				//   alert(arr.length);
				for (var i = 0; i < arr.length; i++) {

					// creating row and data   
					var trow = document.createElement('tr');
					trow.className = "row-bg-style"; // addingStyle class
					trow.id = counttr++;
					var divObj = document.createElement('td');
					divObj.className = "spacing";
					var divObj1 = document.createElement('td');
					divObj1.className = "spacing";
					var divObj2 = document.createElement('td');
					divObj2.className = "spacing";
					var divObj3 = document.createElement('td');
					divObj3.className = "spacing";
					var divObj4 = document.createElement('td');
					divObj4.className = "spacing";
					var divObj5 = document.createElement('td');
					divObj5.className = "spacing";
					var divObj6 = document.createElement('td');
					divObj6.className = "spacing";
					var divObj7 = document.createElement('td');
					divObj7.className = "spacing";
					var divObj8 = document.createElement('td');
				        divObj8.className="spacing";
				        divObj8.style.display="none";

					divObj.innerText = arr[i].cabNumber;
					divObj1.innerText = arr[i].driver.driverName;
					divObj2.innerText = arr[i].driver.driverNumber;
					divObj3.innerText = arr[i].source;
					divObj4.innerText = arr[i].destination;
					var date =arr[i].dateOfTravel.split("\-");
			        var day=date[2]+"/"+date[1]+"/"+date[0];
			        divObj5.innerText  =day;
			        slot=arr[i].timeSlot;
			        var slotSplitted = slot.split(":"); //[22,30,00]
			        slotHour = slotSplitted[0];
			        if(slotHour<12){
			        if(slotHour==00){
			        divObj6.innerHTML = "12"+":"+slotSplitted[1]+":"+slotSplitted[2]+" AM";
			        }
			        else{
			        divObj6.innerHTML = slotHour+":"+slotSplitted[1]+":"+slotSplitted[2]+" AM";
			        }
			        }
			        else{
			        	
			        
			        slotHour = slotHour-12;
			           if(slotHour<10){
			        	   divObj6.innerHTML = "0"+slotHour+":"+slotSplitted[1]+":"+slotSplitted[2]+" PM";
			           }else{
			        divObj6.innerHTML = slotHour+":"+slotSplitted[1]+":"+slotSplitted[2]+" PM";
			        }
			        }
					divObj7.innerHTML = "<a href='tripsheet.html' title='View' class='align-img'><img src='images/View.svg' alt='View-icon' /></a>";
                     divObj8.innerHTML= arr[i].cabid;
					trow.appendChild(divObj);
					trow.appendChild(divObj1);
					trow.appendChild(divObj2);
					trow.appendChild(divObj3);
					trow.appendChild(divObj4);
					trow.appendChild(divObj5);
					trow.appendChild(divObj6);
					trow.appendChild(divObj7);
                    trow.appendChild(divObj8);
					document.getElementById("cab-body").appendChild(trow);
           // To Count the data based on Row
					var countSpan = document.getElementById("count");
					countSpan.innerHTML = $('#cab-body tr').length + " out of "+ count;
					document.getElementById("record").appendChild(countSpan);
				}
			}
		}
//ApplyFilter ---------------------->ends

//---------------------------------------------------------------------------------------------------------------------------

// Scroll Function ------------------>Starts
		document.getElementById("scroll").addEventListener(
				'scroll',
				function() {
					

// 				   ($("#scroll").scrollTop() + $("#scroll").height() > $(
// 					"#cab-body").height())
//                 ($("#scroll")[0].scrollHeight-$("#scroll").scrollTop()==$("#scroll").height()) 
					if ($("#scroll")[0].scrollHeight-$("#scroll").scrollTop()==$("#scroll").height())   {
						if($('#cab-body tr').length != count){
						skip = skip + limit;
						if(filterApplied==false){
						getAssignedCabs(skip, limit);
						}else if(searchApplied==true){
							
						    getBySearch()
							}else{
						
							getApplyFilter();
						 
							//filterApplied =false;
						}
					}
					else{
						skip=0;
					
					}
					}
				});
//-----> scroll ends 

//-------------------------------------------------------------------------------------------------------------

//---> Search


 var xhrSearch = new XMLHttpRequest();
 // enter button search--starts
 document.getElementById("searchtab").addEventListener("keyup", function (event) {
    		
             if (event.keyCode == 13) {
            	 var filter=document.getElementById("filterbtn");
                 filter.setAttribute('src','images/Vector.svg');
                 filterApplied= false;
                 searchApplied = true;
                 skip=0;
            	 getBySearch();
             }
         });
 // enter button ---ends
     function getBySearch(){
    	 filterApplied= false;
         searchApplied = true;
        skip=0;
        var filter=document.getElementById("filterbtn");
        filter.setAttribute('src','images/Vector.svg');
    	 var searchtxt=document.getElementById("searchtab").value.trim();
    	 
    	 if(searchtxt==null || searchtxt=="" || searchtxt== undefined){
    		 searchApplied = false;
    	        skip=0;
    		 $("#cab-body").empty();
    		getAssignedCabs(skip,limit); 
    	 }
    	 xhrSearch.open("GET","http://localhost:8080/api/v1/"+searchtxt+"/"+skip+"/"+limit,true);
         xhrSearch.onreadystatechange=processResponseSearch;
       
         xhrSearch.send(null);
     }
     
    function processResponseSearch(){
    	
    	 event.preventDefault();
    	   
         if(xhrSearch.readyState == 4 && xhrSearch.status == 200)
             {
         	 $("#cab-body").empty();
              var arr = JSON.parse(xhrSearch.responseText);
        for(var i=0;i<arr.length; i++){

  	  // creating row and data   
         var trow=document.createElement('tr');
         trow.className="row-bg-style";       // addingStyle class
         trow.id = counttr++;
         var divObj = document.createElement('td');
         divObj.className="spacing";
         var divObj1 = document.createElement('td');
         divObj1.className="spacing";
         var divObj2 = document.createElement('td');
         divObj2.className="spacing";
         var divObj3 = document.createElement('td');
         divObj3.className="spacing";
         var divObj4 = document.createElement('td');
         divObj4.className="spacing";
         var divObj5 = document.createElement('td');
         divObj5.className="spacing";
         var divObj6 = document.createElement('td');
         divObj6.className="spacing";
         var divObj7 = document.createElement('td');
         divObj7.className="spacing";
         var divObj8 = document.createElement('td');
         divObj8.className="spacing";
         divObj8.style.display="none";
         
         
         divObj.innerText = arr[i].cabNumber ;
         divObj1.innerText = arr[i].driver.driverName;
         divObj2.innerText = arr[i].driver.driverNumber;
         divObj3.innerText = arr[i].source;
         divObj4.innerText = arr[i].destination;
         var date =arr[i].dateOfTravel.split("\-");
         var day=date[2]+"/"+date[1]+"/"+date[0];
         divObj5.innerText  =day;
         
         slot=arr[i].timeSlot;
         var slotSplitted = slot.split(":"); 
         slotHour = slotSplitted[0];
         if(slotHour<12){
         if(slotHour==00){
         divObj6.innerHTML = "12"+":"+slotSplitted[1]+":"+slotSplitted[2]+" AM";
         }
         else{
         divObj6.innerHTML = slotHour+":"+slotSplitted[1]+":"+slotSplitted[2]+" AM";
         }
         }
         else{
         	
         
         slotHour = slotHour-12;
            if(slotHour<10){
         	   divObj6.innerHTML = "0"+slotHour+":"+slotSplitted[1]+":"+slotSplitted[2]+" PM";
            }else{
         divObj6.innerHTML = slotHour+":"+slotSplitted[1]+":"+slotSplitted[2]+" PM";
         }
         }
         
         divObj7.innerHTML="<a onclick='actionBtn(this)' title='View' class='align-img'><img src='images/View.svg' alt='View-icon' /></a>";
          divObj8.innerText=arr[i].cabid;
         
         trow.appendChild(divObj);
         trow.appendChild(divObj1);
         trow.appendChild(divObj2);
         trow.appendChild(divObj3);
         trow.appendChild(divObj4);
         trow.appendChild(divObj5);
         trow.appendChild(divObj6);
         trow.appendChild(divObj7);
         trow.appendChild(divObj8);
         document.getElementById("cab-body").appendChild(trow);
 //record--> to get rowcount  

     
      var countSpan=document.getElementById("count");
       countSpan.innerHTML=$('#cab-body tr').length+" out of "+count;
      document.getElementById("record").appendChild(countSpan);
     
     }
         
             }
        
//search---------------------------------->ends  

    } 
//--> Filter icon    
    function changeFilter()
    {

     

    //alert("2");
    var filter=document.getElementById("filterbtn");
    if(document.getElementById("Destination").selectedIndex!=0 || document.getElementById("Source").selectedIndex!=0)
    {
        //alert("1");
        filter.setAttribute('src','images/VectorFil1.svg');
        
    }
    else
    {
        filter.setAttribute('src','images/Vector.svg');
    }
}
//-->actionbtn clickedd
function actionBtn(obj){
	
     var tr= obj.closest("tr").id;
    
   var action=  document.getElementById(tr).cells[8].innerText;
   
	 window.location.href="tripsheet.html?tripcabId="+action;
}
//--->actionbtn ends
	</script>
</body>
</html>